import{_ as p}from"./ValaxyMain.vue_vue_type_style_index_0_lang.BiFLLzee.js";import{e as u,u as m,a as g}from"./chunks/vue-router.CoMYsVJm.js";import{ab as F,am as a,ak as s,af as l,ah as e,B as b,aa as y,D as f}from"./framework.CBylFVC_.js";import"./app.Bga8t6JJ.js";import"./chunks/dayjs.BdcnXKr1.js";import"./chunks/vue-i18n.CAlbQbvy.js";import"./chunks/pinia.CwJPVeJK.js";/* empty css                    */import"./chunks/@vueuse/motion.BQGO7cNc.js";import"./chunks/nprogress.Bru8d7fl.js";import"./YunComment.vue_vue_type_style_index_0_lang.DI97Hv3I.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.CiFyxyoC.js";import"./post.BL8xQH9f.js";const C=u("/posts/course-OECT-armbian-jellyfin",async n=>JSON.parse('{"title":"网心云OECT（RK3566）搭建Jellyfin&启用视频硬解","description":"","frontmatter":{"title":"网心云OECT（RK3566）搭建Jellyfin&启用视频硬解","date":"2026-02-09","categories":"技术教程","tags":["网心云","网心云OECT","NAS","Armbian"],"excerpt_type":"html"},"headers":[],"relativePath":"pages/posts/course-OECT-armbian-jellyfin.md","lastUpdated":1771663624000}'),{lazy:(n,t)=>n.name===t.name}),M={__name:"course-OECT-armbian-jellyfin",setup(n,{expose:t}){const{data:o}=C(),c=g(),k=m(),r=Object.assign(k.meta.frontmatter||{},o.value?.frontmatter||{});return c.currentRoute.value.data=o.value,f("valaxy:frontmatter",r),globalThis.$frontmatter=r,t({frontmatter:{title:"网心云OECT（RK3566）搭建Jellyfin&启用视频硬解",date:"2026-02-09",categories:"技术教程",tags:["网心云","网心云OECT","NAS","Armbian"],excerpt_type:"html"}}),(i,h)=>{const d=p;return y(),F(d,{frontmatter:b(r)},{"main-content-md":a(()=>[...h[0]||(h[0]=[l("blockquote",null,[l("p",null,"本文记录的比较匆忙，内容可能存在错误，还请见谅")],-1),l("h2",{id:"准备",tabindex:"-1"},[e("准备 "),l("a",{class:"header-anchor",href:"#准备","aria-label":'Permalink to "准备"'},"​")],-1),l("ul",null,[l("li",null,"网心云OECT（Armbian系统）")],-1),l("blockquote",null,[l("p",null,[e("本文使用的系统为 "),l("a",{href:"https://www.123865.com/s/BOa8Vv-TDf7A",target:"_blank",rel:"noreferrer"}," Flash_Armbian_25.05.0_rockchip_efused-wxy-oec_bookworm_6.1.99_server_2025.03.20 - 123云盘")])],-1),l("ul",null,[l("li",null,"Docker"),l("li",null,"Jellyfin的Docker镜像")],-1),l("h2",{id:"正文",tabindex:"-1"},[e("正文 "),l("a",{class:"header-anchor",href:"#正文","aria-label":'Permalink to "正文"'},"​")],-1),l("blockquote",null,[l("p",null,[e("如果需要 "),l("code",null,"网心云OECT"),e(" 刷机教程，请查看 "),l("a",{href:"https://blog.dmoe.top/posts/course-OECT-armbian",target:"_blank",rel:"noreferrer"},"网心云OEC/OECT刷入Armbian")])],-1),l("h3",{id:"安装-1panel-非必须",tabindex:"-1"},[e("安装 1Panel (非必须) "),l("a",{class:"header-anchor",href:"#安装-1panel-非必须","aria-label":'Permalink to "安装 1Panel (非必须)"'},"​")],-1),l("p",null,[e("您也可以在 "),l("a",{href:"https://1panel.cn/",target:"_blank",rel:"noreferrer"},"1Panel官网"),e(" 获取安装方法")],-1),l("p",null,"以下是一键安装指令：",-1),l("div",{class:"language-Shell max-h-300px"},[l("button",{title:"Copy code",class:"copy"}),l("span",{class:"lang"},"Shell"),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"bash"),l("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -c"),l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "$('),l("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"curl"),l("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -sSL"),l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' https://resource.fit2cloud.com/1panel/package/v2/quick_start.sh)"')])])]),l("button",{class:"code-block-unfold-btn"})],-1),l("h3",{id:"检测芯片的硬件加速功能",tabindex:"-1"},[e("检测芯片的硬件加速功能 "),l("a",{class:"header-anchor",href:"#检测芯片的硬件加速功能","aria-label":'Permalink to "检测芯片的硬件加速功能"'},"​")],-1),l("h4",{id:"检查设备节点状态",tabindex:"-1"},[e("检查设备节点状态 "),l("a",{class:"header-anchor",href:"#检查设备节点状态","aria-label":'Permalink to "检查设备节点状态"'},"​")],-1),l("div",{class:"language-shell max-h-300px"},[l("button",{title:"Copy code",class:"copy"}),l("span",{class:"lang"},"shell"),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"ls"),l("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -l"),l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /dev"),l("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),l("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," grep"),l("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -E"),l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "mpp|rga|dri|dma_heap"')])])]),l("button",{class:"code-block-unfold-btn"})],-1),l("p",null,"输出的内容若与以下内容类似，则说明设备节点存在（即驱动已正常加载）：",-1),l("div",{class:"language-shell max-h-300px"},[l("button",{title:"Copy code",class:"copy"}),l("span",{class:"lang"},"shell"),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"drwxr-xr-x"),l("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 2"),l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),l("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 100"),l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," dma_heap"),l("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"          # DMA共享内存支持")]),e(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"drwxr-xr-x"),l("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 3"),l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),l("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 140"),l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," dri"),l("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"               # DRM子系统")]),e(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"crw-------"),l("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 1"),l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 240,0"),l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," mpp_service"),l("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"     # MPP硬件编解码服务")]),e(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"crw-------"),l("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 1"),l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 10,122"),l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," rga"),l("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"            # RGA 2D图像加速")])])]),l("button",{class:"code-block-unfold-btn"})],-1),l("blockquote",null,[l("p",null,[l("strong",null,"Tips"),e("：")]),l("ul",null,[l("li",null,[l("code",null,"dma_heap"),e("：即"),l("code",null,"“DMA-BUF Heap（DMA共享内存堆）”"),e(" ，用于高效分配跨设备共享的DMA缓冲区，支持零拷贝数据传输")]),l("li",null,[l("code",null,"dri"),e("：即 "),l("code",null,"“Direct Rendering Infrastructure（直接渲染基础设施）”"),e(" ，GPU与显示控制器接口，管理GPU渲染和显示输出")]),l("li",null,[l("code",null,"mpp_service"),e("：即 "),l("code",null,"“Media Process Platform Service（媒体处理平台服务）”"),e(" ，提供硬件编解码能力（H.264/H.265等视频编解码）")]),l("li",null,[l("code",null,"rga"),e("：即 "),l("code",null,"“Raster Graphics Acceleration（光栅图形加速）”"),e(" ，用于2D图像处理加速（缩放、旋转、alpha混合等）")])])],-1),l("h4",{id:"检查驱动状态",tabindex:"-1"},[e("检查驱动状态 "),l("a",{class:"header-anchor",href:"#检查驱动状态","aria-label":'Permalink to "检查驱动状态"'},"​")],-1),l("div",{class:"language-shell max-h-300px"},[l("button",{title:"Copy code",class:"copy"}),l("span",{class:"lang"},"shell"),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"dmesg"),l("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),l("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," grep"),l("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -iE"),l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "mpp|rga|rockchip-drm"')])])]),l("button",{class:"code-block-unfold-btn"})],-1),l("blockquote",null,[l("p",null,[e("Tips：该命令可能不输出内容，可通过 "),l("code",null,"ffmpeg"),e(" 等工具来验证设备的硬解能力")])],-1),l("h3",{id:"安装-jellyfin",tabindex:"-1"},[e("安装 Jellyfin "),l("a",{class:"header-anchor",href:"#安装-jellyfin","aria-label":'Permalink to "安装 Jellyfin"'},"​")],-1),l("blockquote",null,[l("p",null,[e("Tips："),l("br"),e(" 官方镜像 "),l("a",{href:"https://hub.docker.com/r/jellyfin/jellyfin",target:"_blank",rel:"noreferrer"},"jellyfin/jellyfin - Docker Image"),e(" 目前并不支持调用网心云OECT的GPU，可使用 "),l("a",{href:"https://hub.docker.com/r/nyanmisaka/jellyfin",target:"_blank",rel:"noreferrer"},"nyanmisaka/jellyfin - Docker Image"),e(" 的 "),l("code",null,"latest-rockchip"),e(" 分支")])],-1),l("p",null,[e("将 "),l("code",null,"docker-compose.yml"),e(" 文件中的 "),l("code",null,"devices"),e(" & "),l("code",null,"image"),e(" 部分修改为以下内容：")],-1),l("div",{class:"vp-code-block-title"},[l("div",{class:"vp-code-block-title-bar"},[l("span",{class:"vp-code-block-title-text","data-title":"Docker ~vscode-icons:file-type-docker2~"},"Docker")]),l("div",{class:"language-docker-compose.yml max-h-300px"},[l("button",{title:"Copy code",class:"copy"}),l("span",{class:"lang"},"docker-compose.yml"),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",null,"    devices:")]),e(`
`),l("span",{class:"line"},[l("span",null,"      - /dev/dri:/dev/dri")]),e(`
`),l("span",{class:"line"},[l("span",null,"      - /dev/dma_heap:/dev/dma_heap")]),e(`
`),l("span",{class:"line"},[l("span",null,"      - /dev/mpp_service:/dev/mpp_service")]),e(`
`),l("span",{class:"line"},[l("span",null,"      - /dev/rga:/dev/rga")]),e(`
`),l("span",{class:"line"},[l("span",null,"    image: nyanmisaka/jellyfin:latest-rockchip")])])]),l("button",{class:"code-block-unfold-btn"})])],-1),l("h4",{id:"配置-jellyfin",tabindex:"-1"},[e("配置 Jellyfin "),l("a",{class:"header-anchor",href:"#配置-jellyfin","aria-label":'Permalink to "配置 Jellyfin"'},"​")],-1),l("p",null,[e("在 "),l("code",null,"Jellyfin"),e(" 首页通过侧边栏进入 "),l("code",null,"控制台"),e(" ，找到 "),l("code",null,"播放"),e(" - "),l("code",null,"转码")],-1),l("p",null,[e("将 "),l("code",null,"硬件加速"),e(" 修改为 "),l("code",null,"Rockchip MPP (RKMPP)")],-1),l("p",null,[l("code",null,"启用硬件编码"),e(" 部分可全部勾选，然后保存")],-1),l("blockquote",null,[l("p",null,[l("code",null,"AV1"),e(" 可不勾选（?）")])],-1),l("p",null,"是否配置成功请自行寻找视频资源测试",-1),l("blockquote",null,[l("p",null,[e("Tips：可通过 "),l("code",null,"WEB端"),e(" / "),l("code",null,"客户端"),e(" 的视频播放器的视频信息来查看")])],-1),l("h2",{id:"参考资料",tabindex:"-1"},[e("参考资料 "),l("a",{class:"header-anchor",href:"#参考资料","aria-label":'Permalink to "参考资料"'},"​")],-1),l("ul",null,[l("li",null,[l("a",{href:"https://blog.astarry.cn/archives/822eb31f-cda3-4805-8a70-51879b9a96ec",target:"_blank",rel:"noreferrer"},"Orange 3B Jellyfin使用RK3566硬解4K视频 - Astarry技术日记")]),l("li",null,[l("a",{href:"https://www.bilibili.com/video/BV1W236zYEHU",target:"_blank",rel:"noreferrer"},"不到70块的NAS能硬解4K？RK3566jellyfin的安装和GPU调用 - Bilibili")])],-1),l("h2",{id:"后记",tabindex:"-1"},[e("后记 "),l("a",{class:"header-anchor",href:"#后记","aria-label":'Permalink to "后记"'},"​")],-1),l("p",null,[l("s",null,"新年的第二文章居然是水出来的（")],-1),l("p",null,"有两个令我疑惑的问题：",-1),l("ul",null,[l("li",null,[l("p",null,"网心云OEC和OECT这两个型号的芯片不同吗？目前我能查到的资料无法解答我的疑惑Orz")]),l("li",null,[l("p",null,[e("不同的支持RK3566视频硬解的Armbian系统镜像，"),l("code",null,"docker-compose.yml"),e(" 文件中的 "),l("code",null,"devices"),e(" 配置不一样吗？"),l("s",null,"（这对吗？）")])])],-1),l("p",null,"最后，提前祝各位春节快乐~",-1)])]),"main-header":a(()=>[s(i.$slots,"main-header")]),"main-header-after":a(()=>[s(i.$slots,"main-header-after")]),"main-nav":a(()=>[s(i.$slots,"main-nav")]),"main-content-before":a(()=>[s(i.$slots,"main-content-before")]),"main-content":a(()=>[s(i.$slots,"main-content")]),"main-content-after":a(()=>[s(i.$slots,"main-content-after")]),"main-nav-before":a(()=>[s(i.$slots,"main-nav-before")]),"main-nav-after":a(()=>[s(i.$slots,"main-nav-after")]),comment:a(()=>[s(i.$slots,"comment")]),footer:a(()=>[s(i.$slots,"footer")]),aside:a(()=>[s(i.$slots,"aside")]),"aside-custom":a(()=>[s(i.$slots,"aside-custom")]),default:a(()=>[s(i.$slots,"default")]),_:3},8,["frontmatter"])}}};export{M as default,C as usePageData};
